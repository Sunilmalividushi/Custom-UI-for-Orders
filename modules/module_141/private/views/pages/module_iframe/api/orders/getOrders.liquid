---
slug: module_141/module_iframe/api/getOrders
---
{% include 'modules/siteglide_system/constants' -%}

{%- assign page = context.params.page | default: 1 | plus: 0 -%}
{%- assign per_page = context.params.per_page | default: 10 | plus: 0 -%}


{%- graphql allorders = "modules/module_141/module_orders/get_orders",
  page: page,
  per_page: per_page,
-%}


{% assign total_pages =  allorders.data.total_pages %}
{% assign current_page =  allorders.data.current_page %}
{% assign total_entries =  allorders.data.total_entries %}
{% assign has_previous_page =  allorders.data.has_previous_page %}
{% assign has_next_page =  allorders.data.has_next_page %}
 
{% render 'modules/module_141/layouts/pagination/orders_pagination', total_middle_buttons: 7, current_page: current_page, total_pages: total_pages, has_previous_page: has_previous_page, has_next_page: has_next_page %}

<table class="table table-bordered" id="order-table">
    <thead>
        <th scope="col" class="sg-bg-primary text-white">Order ID</th>
        <th scope="col" class="sg-bg-primary text-white">Order Date</th>
        <th scope="col" class="sg-bg-primary text-white">Username</th>
        <th scope="col" class="sg-bg-primary text-white">Email</th>			
        <th scope="col" class="sg-bg-primary text-white">Status</th>
        <th scope="col" class="sg-bg-primary text-white">Prix total</th>
        <th scope="col" class="sg-bg-primary text-white">View</th>
    </thead>
    <tbody>
        {% for item in allorders.data.results -%}           
            <tr>
                <td class="text-center">
                    <a href="/module_141/module_iframe/view/{{item.id}}?{% include "modules/siteglide_system/modules/auth" -%}">{{ item.id }}</a>
                </td>
                <td>
                    {{item.created_at | date: "%Y-%m-%d %H:%M" }}
                </td>
                <td>
                    {{item.related_users[0].name}}
                </td>
                <td>
                    {{ item.properties['module_field_14/order_2']}}
                </td>
                <td>
                    {{ item.properties['module_field_14/order_3']}}
                </td>
                <td>
                    {{ item.properties['module_field_custom_14/order_7']}}
                </td>
                <td>
                    <a class="view" href="/module_141/module_iframe/view/{{item.id}}?{% include "modules/siteglide_system/modules/auth" -%}">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>
                    </a>                  
                </td>               
            </tr>
        {% endfor %}
    </tbody>
</table>
    
{% render 'modules/module_141/layouts/pagination/orders_pagination', total_middle_buttons: 7, current_page: current_page, total_pages: total_pages, has_previous_page: has_previous_page, has_next_page: has_next_page %}
